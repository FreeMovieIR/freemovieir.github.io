<!DOCTYPE html>
<html lang="fa" class="dark">

<head>
    <script src="https://cdn.tailwindcss.com"></script>    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جستجوی هوشمند - فیری مووی</title>
    <script src="/assets/js/config.js"></script>
    <script src="/assets/js/config/tailwind-config.js"></script>
    <></script>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@latest/dist/font-face.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="icon" href="/assets/icons/favicon.ico" type="favicon/ico">
    <style>
        .genre-btn {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .genre-btn.selected-include {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            color: black;
            border-color: transparent;
            font-weight: 900;
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.3);
            transform: scale(1.05);
        }

        .genre-btn.selected-exclude {
            background: linear-gradient(135deg, #ef4444, #f87171);
            color: white;
            border-color: transparent;
            font-weight: 900;
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
            transform: scale(1.05);
        }

        .range-premium::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: #f59e0b;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
            border: 2px solid white;
        }
    </style>
</head>

<body class="bg-[#07090f] text-white min-h-screen flex flex-col font-['Vazir']" dir="rtl">
    <div id="shared-header"></div>

    <main class="container mx-auto flex-1 py-12 px-6">
        <div class="mb-16 text-center reveal-on-scroll">
            <h1 class="text-5xl md:text-7xl font-black text-white tracking-tighter drop-shadow-2xl">
                کشف <span class="text-gradient-amber">هوشمند</span>
            </h1>
            <p class="text-gray-400 text-sm md:text-base max-w-2xl mx-auto leading-relaxed">با انتخاب ژانرهای مورد علاقه
                و حذف ژانرهایی که دوست ندارید، دقیقاً همون فیلمی که می‌خواید رو پیدا کنید.</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
            <!-- Filter Sidebar -->
            <div class="lg:col-span-4 space-y-8">
                <div class="glass-card-premium p-8 rounded-3xl border border-white/10 sticky top-28">

                    <div class="mb-8">
                        <h3 class="text-lg font-black text-amber-500 mb-4 flex items-center gap-2">
                            <i class="fas fa-check-circle"></i> مورد علاقه
                        </h3>
                        <div id="include-genres-container" class="flex flex-wrap gap-2">
                            <!-- Skeleton Loader -->
                            <div class="skeleton h-8 w-20 rounded-full"></div>
                            <div class="skeleton h-8 w-24 rounded-full"></div>
                        </div>
                    </div>

                    <div class="mb-8">
                        <h3 class="text-lg font-black text-red-500 mb-4 flex items-center gap-2">
                            <i class="fas fa-times-circle"></i> حذف شده‌ها
                        </h3>
                        <div id="exclude-genres-container" class="flex flex-wrap gap-2">
                            <!-- Skeleton Loader -->
                            <div class="skeleton h-8 w-20 rounded-full"></div>
                        </div>
                    </div>

                    <div class="space-y-6">
                        <div
                            class="p-6 bg-white/5 rounded-3xl border border-white/5 input-premium-focus transition-all duration-300">
                            <label
                                class="block text-gray-500 text-[10px] font-black uppercase tracking-widest mb-4 flex justify-between">
                                حداقل امتیاز: <span id="rating-val" class="text-amber-500 font-black text-sm">5.0</span>
                            </label>
                            <input type="range" id="min-rating" min="0" max="10" step="0.5" value="5"
                                class="w-full h-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer range-premium">
                        </div>

                        <div class="p-4 bg-white/5 rounded-2xl border border-white/5">
                            <label
                                class="block text-gray-400 text-xs font-bold uppercase tracking-widest mb-3">مرتب‌سازی</label>
                            <select id="sort-by"
                                class="w-full bg-transparent border-none text-white text-sm rounded-xl focus:ring-0 block p-0 cursor-pointer font-bold">
                                <option value="popularity.desc">محبوب‌ترین‌ها</option>
                                <option value="vote_average.desc">بیشترین امتیاز</option>
                                <option value="primary_release_date.desc">جدیدترین‌ها</option>
                            </select>
                        </div>

                        <button id="search-btn"
                            class="w-full bg-amber-500 hover:bg-amber-400 text-black font-black text-lg py-4 rounded-2xl shadow-xl shadow-amber-500/20 transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2">
                            <i class="fas fa-magic"></i> پیدا کن!
                        </button>
                    </div>
                </div>
            </div>

            <!-- Results Grid -->
            <div class="lg:col-span-8">
                <div id="results-loader"
                    class="hidden flex-col items-center justify-center py-32 glass-card-premium rounded-3xl border border-white/10 mb-8">
                    <div
                        class="h-16 w-16 border-4 border-amber-500/20 border-t-amber-500 rounded-full animate-spin mb-6">
                    </div>
                    <p class="text-amber-500 font-bold animate-pulse text-lg tracking-tighter">در حال استخراج هوشمند
                        اطلاعات...</p>
                </div>

                <div id="results-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Default State -->
                    <div
                        class="col-span-full py-32 text-center glass-card-premium rounded-3xl border border-dashed border-white/10 group">
                        <div class="mb-6 relative inline-block">
                            <div class="absolute inset-0 bg-amber-500/20 blur-2xl rounded-full animate-pulse"></div>
                            <i class="fas fa-sparkles text-amber-500 text-5xl relative"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">آماده جستجوی هوشمند هستید؟</h3>
                        <p class="text-gray-500 text-sm max-w-xs mx-auto">ژانرهای مورد نظر خود را انتخاب کرده و دکمه
                            "پیدا کن" را بفشارید.</p>
                    </div>
                </div>

                <!-- Pagination -->
                <div id="pagination" class="mt-12 flex justify-center items-center gap-4 hidden">
                    <button id="prev-page"
                        class="w-12 h-12 flex items-center justify-center bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl transition-all disabled:opacity-20">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <span id="page-info"
                        class="glass-card px-6 py-3 rounded-2xl text-amber-500 font-black text-sm min-w-[120px] text-center">صفحه
                        ۱ از ۱</span>
                    <button id="next-page"
                        class="w-12 h-12 flex items-center justify-center bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl transition-all disabled:opacity-20">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <div id="shared-footer"></div>

    <script src="/assets/js/apiKeySwitcher.js"></script>
    <script src="/assets/js/components/layout-shared.js" defer></script>
    <script src="finder.js" defer></script>
  <script src="/assets/js/ccloud-api.js"></script></body>

</html>